# Singleton Pattern
Singletonは生成関連のデザインパターンの一つで、クラスが一つのみのインスタンスを持つことを保証するとともに、
このインスタンスへの大域アクセス・ポイントを提供してくれます。

Go言語におけるシングルトンは、他言語（JavaやC#など）のようにクラスのstaticメソッドで複雑な排他制御を書く必要がなく、
標準ライブラリの`sync.Once` を使うことで「美しく、かつ完璧にスレッドセーフ」に実装できるのが最大の特徴です。

ただ、Goではグローバル変数は過度な結合を生むため推奨されませんが、DB接続など「どうしても共有が必要なリソース」にはこのパターンが最適解となります。

---

# 実装内容
今回の例では、管理したい構造体をDBとしインスタンスを保持するプライベート変数`instance`と実行を一度きりに制限するためのプリミティブ`once`を用意します。

GetDBInstance関数は常に同一のインスタンスDBを返すようにし、その中の処理で`once.Do`を使います。
`once.Do`は引数に渡した関数を、プログラムの実行中に一度だけ呼ぶことをしてくれます。
複数のGorotineが同時に呼んでも、内部で適切にロックしてくれるわけです。

最終的に、main関数内でGetDBInstanceを呼び、アドレスを表示させ全て同じインスタンスであることを確認できたらOKです。

